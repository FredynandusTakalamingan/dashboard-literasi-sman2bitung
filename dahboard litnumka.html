<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portal Dashboard Literasi â€¢ Numerasi â€¢ Karakter â€¢ Pencegahan Kekerasan</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    :root {
      --glass: rgba(255,255,255,0.06);
      --accent1: #4f46e5;
      --accent2: #06b6d4;
    }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      scroll-behavior: smooth;
    }
    .glass {
      background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.08);
    }
    .btn-grad {
      background: linear-gradient(90deg,var(--accent1),var(--accent2));
      transition: transform 0.3s ease;
    }
    .btn-grad:hover {transform: scale(1.05);}
  </style>
</head>

<body class="min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-700 text-slate-100">
  <main class="max-w-6xl mx-auto px-6 py-8 space-y-10">

    <!-- Header -->
    <header class="flex flex-col md:flex-row md:items-center md:justify-between gap-6">
      <div class="flex items-center gap-4">
        <div class="w-14 h-14 rounded-2xl btn-grad flex items-center justify-center shadow-xl">
          <i class="fas fa-chart-line text-white text-2xl"></i>
        </div>
        <div>
          <h1 class="text-2xl font-semibold leading-tight">Portal Pemantauan Pembelajaran</h1>
          <p class="text-sm text-slate-300">Dashboard Literasi â€¢ Numerasi â€¢ Karakter â€¢ Pencegahan Kekerasan</p>
        </div>
      </div>
      <a href="https://www.instagram.com/fredy_takalamingan/?hl=id" target="_blank" class="px-4 py-2 rounded-md glass text-sm flex items-center gap-2">
        <i class="fab fa-instagram"></i> Kontak Admin
      </a>
    </header>

    <!-- Informasi Refleksi -->
    <section class="p-6 rounded-2xl glass">
      <h2 class="text-lg font-semibold mb-3">ğŸ“¢ Informasi untuk Wali Kelas</h2>
      <p class="text-sm mb-2">Yth. Bapak/Ibu Wali Kelas,<br>
      Mohon diteruskan kepada seluruh siswa untuk mengisi refleksi bulan Oktober melalui tautan berikut:</p>
      <a href="https://forms.gle/WydWFZ6hoPrRCsck8" target="_blank" class="underline text-cyan-400">https://forms.gle/WydWFZ6hoPrRCsck8</a>

      <p class="text-sm mt-4">Refleksi ini bertujuan untuk melihat sejauh mana perkembangan kemampuan siswa dalam:</p>
      <ul class="text-sm list-disc list-inside space-y-1">
        <li><strong>ğŸ“˜ Literasi</strong> â€“ kemampuan memahami, menggunakan, dan menafsirkan informasi dari berbagai sumber.</li>
        <li><strong>ğŸ§® Numerasi</strong> â€“ kemampuan menggunakan konsep bilangan dan data untuk memecahkan masalah.</li>
        <li><strong>ğŸ’¡ Karakter</strong> â€“ nilai moral, tanggung jawab, kerja sama, dan integritas dalam tindakan sehari-hari.</li>
        <li><strong>ğŸ¤ Pencegahan & Penanganan Kekerasan</strong> â€“ keterlibatan warga sekolah dalam mencegah dan menangani tindak kekerasan di lingkungan sekolah.</li>
      </ul>

      <p class="text-sm mt-4">ğŸ“ <strong>Petunjuk Pengisian:</strong><br>
      Beri penilaian dengan memilih angka <strong>1â€“5</strong> sesuai keadaan di sekolahmu:<br>
      1 = Sangat Kurang, 2 = Kurang, 3 = Cukup, 4 = Baik, 5 = Sangat Baik</p>
    </section>

    <!-- Form Masukan -->
    <section class="p-6 rounded-2xl glass">
      <h2 class="text-lg font-semibold mb-4">ğŸ’¬ Saran dan Masukan</h2>
      <p class="text-sm text-slate-300 mb-4">
        Silakan tuliskan saran Anda terkait peningkatan literasi, numerasi, karakter, dan upaya pencegahan kekerasan di sekolah.
      </p>

      <form id="feedbackForm" class="flex flex-col gap-4">
        <input type="text" id="name" placeholder="Nama Anda" class="px-4 py-2 rounded-lg bg-slate-800 border border-white/10 focus:outline-none focus:ring-2 focus:ring-indigo-500">
        <textarea id="message" placeholder="Tulis saran atau refleksi Anda di sini..." class="px-4 py-2 rounded-lg bg-slate-800 border border-white/10 focus:outline-none focus:ring-2 focus:ring-indigo-500 h-32"></textarea>
        <button type="button" onclick="saveFeedback()" class="btn-grad px-4 py-2 rounded-lg font-semibold">Kirim Saran</button>
      </form>

      <div id="feedbackList" class="mt-6 text-sm text-slate-300"></div>
    </section>

    <!-- Footer -->
    <footer class="text-center text-slate-400 text-sm py-6">
      <p>Â© 2025 SMA Negeri 2 Bitung â€” Portal Pemantauan Pembelajaran<br>
      <span class="text-slate-500 text-xs">Dikembangkan oleh <strong class="text-white">FreTax</strong></span></p>
    </footer>

  </main>

  <script>
    const DEPLOY_URL = "https://script.google.com/macros/s/AKfycbzmn2Sr1hNHZd1rW8T-XOy-8a5rENsqKSd8r_UDIG1WEn062o3S6KFB1SEST6zQr61wNw/exec";

    async function saveFeedback() {
      const name = document.getElementById('name').value.trim() || 'Anonim';
      const message = document.getElementById('message').value.trim();
      if (!message) return alert('Harap isi saran terlebih dahulu.');

      const data = { name, message, time: new Date().toLocaleString() };

      try {
        const res = await fetch(DEPLOY_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data),
        });

        if (res.ok) {
          alert("âœ… Saran berhasil dikirim. Terima kasih atas partisipasinya!");
          document.getElementById('feedbackForm').reset();
          loadFeedbacks();
        } else {
          alert("âš ï¸ Gagal mengirim data. Coba lagi nanti.");
        }
      } catch (err) {
        alert("âš ï¸ Terjadi kesalahan koneksi ke server.");
      }
    }

    async function loadFeedbacks() {
      try {
        const res = await fetch(DEPLOY_URL);
        const feedbacks = await res.json();
        const list = document.getElementById('feedbackList');
        list.innerHTML = '';
        feedbacks.reverse().forEach(fb => {
          const entry = document.createElement('div');
          entry.className = 'border-t border-white/10 pt-2 mt-2';
          entry.innerHTML = `<strong>${fb.name}</strong> <span class="text-xs text-slate-400">(${fb.time})</span>: ${fb.message}`;
          list.appendChild(entry);
        });
      } catch (err) {
        console.error(err);
      }
    }

    document.addEventListener('DOMContentLoaded', loadFeedbacks);
  </script>
</body>
</html>
